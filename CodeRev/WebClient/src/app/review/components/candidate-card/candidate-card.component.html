<div 
    class="comment"
    [ngClass]="{
        'comment-show': isShowingComment
    }"
>
    <div class="top">
        <span class="head">Комментарий проверяющего</span>
        <button class="close" (click)="closeComment()">X</button>
    </div>
    <span class="text">
        {{candidate.reviewerComment}}
    </span>
</div>

<div 
    class="review" 
    [ngClass]="{
        'hide-right': isShowingComment,
        'hide-left': isShowingGrade
    }"
>
    <div class="left">
        <div class="top">
            <span class="name">{{ candidate.fullName }}</span>
            <span class="vacancy"> {{ candidate.vacancy }} </span>
        </div>
    
        <div class="bottom">
            <span>
                Начало:
                <span *ngIf="candidate.startTimeMs !== -1 else startElse" class="time">
                    {{ candidate.startTimeMs | date : 'dd.MM.yyyy' }}
                </span>
        
                <ng-template #startElse>
                    <span class="alert"> не приступал </span>
                </ng-template>
            </span>
        
            <span>
                Срок проверки:
    
                <span class="time" *ngIf="candidate.timeToCheckMs > 0 else checkElse">
                    {{ candidate.timeToCheckMs | date : 'dd.MM.yyyy' }}
                </span>
    
                <ng-template #checkElse>
                    без срока
                </ng-template>
            </span>
        </div>
    </div>
    
    <div class="right">
        <span class="count"> {{ candidate.doneTasksCount }} / {{ candidate.tasksCount }} </span>
        <div class="controls">
            <img 
                *ngIf="candidate.reviewerComment" 
                (click)="showComment()"
                src="../../../../assets/svg/comment.svg" 
                alt="..." class="comment-img">
            <div class="grade" *ngIf="candidate.averageGrade !== 0">
                {{candidate.averageGrade}}
            </div>
            <button [disabled]="candidate.getState() === state.notStarted" (click)="select()">Оценить</button>
        </div>
    </div>
</div>

<div 
    class="hr-grade"
    [ngClass]="{
        'grade-show': isShowingGrade
    }"
>
    <div class="top">
        <span class="head">Результат интервью</span>
        <button class="close" (click)="closeGrade()">X</button>
    </div>
    <form class="control" [formGroup]="hrGrade">
        <div>
            <input type="radio" formControlName="result" id="rad{{candidate.userId}}1" [value]="2">
            <label for="rad{{candidate.userId}}1"></label>
            <label for="rad{{candidate.userId}}1">Одобрено</label>
        </div>
        <div>
            <input type="radio" formControlName="result" id="rad{{candidate.userId}}2" [value]="1">
            <label for="rad{{candidate.userId}}2"></label>
            <label for="rad{{candidate.userId}}2">Подумать</label>
        </div>
        <div>
            <input type="radio" formControlName="result" id="rad{{candidate.userId}}3" [value]="0">
            <label for="rad{{candidate.userId}}3"></label>
            <label for="rad{{candidate.userId}}3">Отклонить</label>
        </div>
    </form>
</div>